import{g as F,j as t,r as v,R as S,a as z,b as N}from"./app-C3mhydF5.js";import{A as q}from"./AuthenticatedLayout-BT9ncWk3.js";import{r as M,i as U,B as W,a as T,P as G,s as x,b as H,A as L,S as V}from"./ActionBar-ZN_KoRHG.js";import{P,a as m}from"./Autocomplete-D2lLf6xG.js";import{G as R}from"./Grow-DYBh3_5-.js";import{M as Y,I as J}from"./TextField-uqjDUPZP.js";import{M as K}from"./MenuItem-D95IXwgG.js";import{C as Q,S as X,A as Z}from"./Snackbar-BQcxvEz0.js";import{d as ee}from"./CloudUpload-Ce9DGv7j.js";import{C as te}from"./CustomSelectCategoryBox-9x91FUZh.js";import{T as oe}from"./Typography-ab3AFR6E.js";import"./ApplicationLogo-Cd5GwPJR.js";import"./transition-CtBWSXIo.js";import"./Close-Czjnh2UU.js";var I={exports:{}},ae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",re=ae,se=re;function _(){}function B(){}B.resetWarningCache=_;var ne=function(){function e(c,p,i,h,f,g){if(g!==se){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function r(){return e}var l={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:B,resetWarningCache:_};return l.PropTypes=l,l};I.exports=ne();var ie=I.exports;const w=F(ie);var k={},le=U;Object.defineProperty(k,"__esModule",{value:!0});var A=k.default=void 0,de=le(M()),pe=t;A=k.default=(0,de.default)((0,pe.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");function ce({options:e,changeAssetType:r}){const[l,c]=v.useState(!1),p=v.useRef(null),[i,h]=v.useState(0),f=()=>{console.info(`You clicked ${e[i]}`)},g=(n,u)=>{h(u),r(u),c(!1)},s=()=>{c(n=>!n)},C=n=>{p.current&&p.current.contains(n.target)||c(!1)};return t.jsxs(v.Fragment,{children:[t.jsxs(W,{variant:"contained",ref:p,"aria-label":"Button group with a nested menu",children:[t.jsx(T,{onClick:f,children:e[i]}),t.jsx(T,{size:"small","aria-controls":l?"split-button-menu":void 0,"aria-expanded":l?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:s,children:t.jsx(A,{})})]}),t.jsx(P,{sx:{zIndex:1},open:l,anchorEl:p.current,role:void 0,transition:!0,disablePortal:!0,children:({TransitionProps:n,placement:u})=>t.jsx(R,{...n,style:{transformOrigin:u==="bottom"?"center top":"center bottom"},children:t.jsx(G,{children:t.jsx(Q,{onClickAway:C,children:t.jsx(Y,{id:"split-button-menu",autoFocusItem:!0,children:e.map((y,d)=>t.jsx(K,{disabled:d===0,selected:d===i,onClick:b=>g(b,d),children:y},y))})})})})})]})}x("div")(({theme:e})=>({[`& .${m.paper}`]:{boxShadow:"none",margin:0,color:"inherit",fontSize:13},[`& .${m.listbox}`]:{backgroundColor:e.palette.mode==="light"?"#fff":"#1c2128",padding:0,[`& .${m.option}`]:{minHeight:"auto",alignItems:"flex-start",padding:8,borderBottom:`1px solid  ${e.palette.mode==="light"?" #eaecef":"#30363d"}`,'&[aria-selected="true"]':{backgroundColor:"transparent"},[`&.${m.focused}, &.${m.focused}[aria-selected="true"]`]:{backgroundColor:e.palette.action.hover}}},[`&.${m.popperDisablePortal}`]:{position:"relative"}}));w.any,w.bool,w.bool.isRequired;x(P)(({theme:e})=>({border:`1px solid ${e.palette.mode==="light"?"#e1e4e8":"#30363d"}`,boxShadow:`0 8px 24px ${e.palette.mode==="light"?"rgba(149, 157, 165, 0.2)":"rgb(1, 4, 9)"}`,borderRadius:6,width:300,zIndex:e.zIndex.modal,fontSize:13,color:e.palette.mode==="light"?"#24292e":"#c9d1d9",backgroundColor:e.palette.mode==="light"?"#fff":"#1c2128"}));x(J)(({theme:e})=>({padding:10,width:"100%",borderBottom:`1px solid ${e.palette.mode==="light"?"#eaecef":"#30363d"}`,"& input":{borderRadius:4,backgroundColor:e.palette.mode==="light"?"#fff":"#0d1117",padding:8,transition:e.transitions.create(["border-color","box-shadow"]),border:`1px solid ${e.palette.mode==="light"?"#eaecef":"#30363d"}`,fontSize:14,"&:focus":{boxShadow:`0px 0px 0px 3px ${e.palette.mode==="light"?"rgba(3, 102, 214, 0.3)":"rgb(12, 45, 107)"}`,borderColor:e.palette.mode==="light"?"#0366d6":"#388bfd"}}}));x(H)(({theme:e})=>({fontSize:13,width:"100%",textAlign:"left",paddingBottom:8,color:e.palette.mode==="light"?"#586069":"#8b949e",fontWeight:600,"&:hover,&:focus":{color:e.palette.mode==="light"?"#0366d6":"#58a6ff"},"& span":{width:"100%"},"& svg":{width:16,height:16}}));const ue=x("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function Pe({auth:e,type:r,title:l,categories:c,headerOptions:p}){const[i,h]=S.useState({status:!1,message:"",severity:""}),[f,g]=S.useState(null),[s,C]=S.useState(0),[n,u]=S.useState({name:"",id:""}),y=o=>{g(o.target.files[0])},d=(o,a)=>{h({status:!0,message:o,severity:a})},b=(o,a)=>{a!=="clickaway"&&h(!1)},$=async()=>{if(!f){d("No file selected","warning");return}if(s==0){d("Select the asset type first","warning");return}if(n.name===""){d("Select a category first","warning");return}const o=new FormData;o.append("type",j[s]),o.append("image",f),o.append("category_id",n.id),o.append("category_name",n.name),o.append("user_id",e.user.id),N.post(route("save.single.asset"),o,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{d(a.data.message,"success")}).catch(a=>{console.error("Error : ",a)})},D={Create:function(){$()}},j=["Select Type","Pattern","Sticker","Background","Solid Color","Gradient"],O=(o,a)=>{a&&u({name:a.name,id:a.id})},E=o=>{C(o)};return t.jsxs(q,{user:e.user,header:t.jsxs("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:[s!=0&&"Upload "+j[s],s==0&&"Upload Assets"]}),actionBar:t.jsxs(L,{actions:D,headerOptions:p,children:[t.jsx(te,{categories:c,changeCategory:O}),t.jsx(ce,{changeAssetType:E,options:j})]}),children:[t.jsx(z,{title:"Dashboard"}),i.status&&t.jsx(X,{open:i.status,autoHideDuration:4e3,onClose:b,TransitionComponent:R,anchorOrigin:{vertical:"top",horizontal:"right"},children:t.jsx(Z,{onClose:b,severity:i.severity,variant:"filled",sx:{width:"100%"},children:i.message})}),t.jsx("div",{className:"square-pattern-bg ",children:t.jsx("div",{className:"py-12",children:t.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",style:{position:"relative"},children:t.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg py-5",children:t.jsxs(V,{padding:20,children:[t.jsx(oe,{variant:"h1",component:"h1",children:"Select asset file"}),t.jsxs(T,{component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:t.jsx(ee,{}),style:{padding:"20px 10px"},children:["Upload file",t.jsx(ue,{type:"file",onChange:y})]})]})})})})})]})}export{Pe as default};
